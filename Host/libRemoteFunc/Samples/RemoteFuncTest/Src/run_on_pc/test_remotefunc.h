#ifndef __TEST_REMOTEFUNC_H__
#define __TEST_REMOTEFUNC_H__

/* For all */
#define TEST_REMOTEFUNC_LOCAL_ADDR "10.132.249.4"
#define TEST_REMOTEFUNC_SERVER_ADDR "10.132.11.10"
#define TEST_REMOTEFUNC_SERVER_BEGIN_PORT 40

#define MAX_THREADS 10

#define MYREQUEST "Hello, World!"
#define TEST_REMOTEFUNC_MSG_LEN 14

/* For test_netread.c */
#define TEST_NETREAD_SERVER_ADDR TEST_REMOTEFUNC_SERVER_ADDR
#define TEST_NETREAD_SERVER_BEGIN_PORT TEST_REMOTEFUNC_SERVER_BEGIN_PORT

#define TEST_NETREAD_CLIENT_NUM (MAX_THREADS/2)
#define TEST_NETREAD_WRITE_TIMES 100

#define TEST_NETREAD_MSG_LEN TEST_REMOTEFUNC_MSG_LEN

/* For test_netwrite */
#define TEST_NETWRITE_SERVER_ADDR TEST_REMOTEFUNC_LOCAL_ADDR
#define TEST_NETWRITE_SERVER_BEGIN_PORT 40

#define TEST_NETWRITE_CLIENT_NUM (MAX_THREADS/2)
#define TEST_NETWRITE_READ_TIMES 100

#define TEST_NETWRITE_MSG_LEN TEST_REMOTEFUNC_MSG_LEN

/* For test_send */
#define TEST_SEND_SERVER_ADDR TEST_REMOTEFUNC_LOCAL_ADDR
#define TEST_SEND_SERVER_BEGIN_PORT TEST_REMOTEFUNC_SERVER_BEGIN_PORT

#define TEST_SEND_CLIENT_NUM (MAX_THREADS/2)
#define TEST_SEND_READ_TIMES 100

#define TEST_SEND_MSG_LEN TEST_REMOTEFUNC_MSG_LEN

/* For test_recv */
#define TEST_RECV_SERVER_ADDR TEST_REMOTEFUNC_SERVER_ADDR
#define TEST_RECV_SERVER_BEGIN_PORT TEST_REMOTEFUNC_SERVER_BEGIN_PORT

#define TEST_RECV_CLIENT_NUM (MAX_THREADS/2)
#define TEST_RECV_WRITE_TIMES 100

#define TEST_RECV_MSG_LEN TEST_REMOTEFUNC_MSG_LEN

/* For test_recvmsg */
#define TEST_RECVMSG_SERVER_ADDR TEST_REMOTEFUNC_SERVER_ADDR
#define TEST_RECVMSG_SERVER_BEGIN_PORT TEST_REMOTEFUNC_SERVER_BEGIN_PORT

#define TEST_RECVMSG_CLIENT_NUM (MAX_THREADS/2)
#define TEST_RECVMSG_WRITE_TIMES 100

#define TEST_RECVMSG_MSG_LEN TEST_REMOTEFUNC_MSG_LEN

/* For test_sendmsg */
#define TEST_SENDMSG_SERVER_ADDR TEST_REMOTEFUNC_LOCAL_ADDR
#define TEST_SENDMSG_SERVER_BEGIN_PORT TEST_REMOTEFUNC_SERVER_BEGIN_PORT

#define TEST_SENDMSG_CLIENT_NUM (MAX_THREADS/2)
#define TEST_SENDMSG_READ_TIMES 100

#define TEST_SENDMSG_MSG_LEN 14

/* For test_recvfrom */
#define TEST_RECVFROM_SERVER_ADDR TEST_REMOTEFUNC_SERVER_ADDR
#define TEST_RECVFROM_SERVER_BEGIN_PORT TEST_REMOTEFUNC_SERVER_BEGIN_PORT

#define TEST_RECVFROM_CLIENT_NUM (MAX_THREADS/2)
// To ensure server can recv the data from client,
// Server just recv one times, and we send 10 times
#define TEST_RECVFROM_WRITE_TIMES 10

#define TEST_RECVFROM_MSG_LEN TEST_REMOTEFUNC_MSG_LEN

/* For test_sendto */
#define TEST_SENDTO_SERVER_BEGIN_PORT TEST_REMOTEFUNC_SERVER_BEGIN_PORT

#define TEST_SENDTO_CLIENT_NUM (MAX_THREADS/2)
// To ensure we can recv the data from client,
// We just recv one times, and client sendto 10 times
#define TEST_SENDTO_READ_TIMES 1

#define TEST_SENDTO_MSG_LEN 14

/* For test_getsockname */
#define TEST_GETSOCKNAME_SERVER_ADDR TEST_REMOTEFUNC_SERVER_ADDR
#define TEST_GETPEERNAME_SERVER_PORT TEST_REMOTEFUNC_SERVER_BEGIN_PORT

#define TEST_NETREAD_MSG_LEN TEST_REMOTEFUNC_MSG_LEN

/* For test_netselect */
#define TEST_NETSELECT_SERVER_ADDR TEST_REMOTEFUNC_SERVER_ADDR
#define TEST_NETSELECT_SERVER_BEGIN_PORT TEST_REMOTEFUNC_SERVER_BEGIN_PORT

#define TEST_NETSELECT_CLIENT_NUM (MAX_THREADS/2)
#define TEST_NETSELECT_WRITE_TIMES 100

#define TEST_NETSELECT_MSG_LEN TEST_REMOTEFUNC_MSG_LEN

/* For test_netfcntl */
#define TEST_NETFCNTL_SERVER_ADDR TEST_REMOTEFUNC_LOCAL_ADDR
#define TEST_NETFCNTL_SERVER_BEGIN_PORT TEST_REMOTEFUNC_SERVER_BEGIN_PORT

#define TEST_NETFCNTL_CLIENT_NUM (MAX_THREADS/2)
#define TEST_NETFCNTL_READ_TIMES 100

#define TEST_NETFCNTL_MSG_LEN TEST_REMOTEFUNC_MSG_LEN


#define set_reuseaddr(fd) \
{ \
	int val, len; \
	 \
	val = 1; \
	len = sizeof(val); \
	if(setsockopt(fd, SOL_SOCKET, SO_REUSEADDR, &val, len) == -1) \
	{ \
		printf("set_reuseaddr(): error\n"); \
	} \
}


#endif
